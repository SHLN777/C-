<html>
<head>
  <title>02---文件系统（函数介绍）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="855"/>
<h1>02---文件系统（函数介绍）</h1>

<div>
<span><div><span style="font-size: 16pt; color: rgb(227, 0, 0);">inode函数介绍</span></div><div><span style="font-size: 16pt;"><br/></span></div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; color: rgb(173, 0, 0); font-weight: bold;">一、文件操作</span></font></div><div><font style="font-size: 16pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">1.stat</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;sys/types.h&gt;</font></div><div><font style="font-size: 12pt;">#include &lt;sys/stat.h&gt;</font></div><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt;</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">int stat(const char *path, struct stat *buf);  //把文件信息传到结构体中</font></div><div><font style="font-size: 12pt;">int fstat(int fd, struct stat *buf); </font></div><div><font style="font-size: 12pt;">int lstat(const char *path, struct stat *buf);</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">stat既有命令也有同名函数，用来获取文件Inode里主要信息，stat 跟踪符号链接，lstat不跟踪符号链接</font></div><div><font style="font-size: 12pt;">stat里面时间辨析：</font></div><div><font style="font-size: 12pt;">    atime(最近访问时间)：</font></div><div><font style="font-size: 12pt;">    mtime(最近更改时间):指最近修改<b>文件内容</b>的时间</font></div><div><font style="font-size: 12pt;">    ctime(最 近改动时间)：指最近改动Inode的时间</font></div></div><div><img src="02---文件系统（函数介绍）_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">2.access</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt;</font></div><div><font style="font-size: 12pt;">int access(const char *pathname, int mode);   //成功返回0，失败返回-1</font></div><div><font style="font-size: 12pt;">按实际用户ID和实际组ID测试,跟踪<b>符号链接（找到实际的文件）</b></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">mode:</font></div><div><font style="font-size: 12pt;">    R_OK 是否有读权限 </font></div><div><font style="font-size: 12pt;">    W_OK 是否有写权限 </font></div><div><font style="font-size: 12pt;">    X_OK 是否有执行权限 </font></div><div><font style="font-size: 12pt;">    F_OK 测试一个文件是否存在</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">实际用户ID：当前用户</font></div><div><font style="font-size: 12pt;">有效用户ID：root</font></div><div><font style="font-size: 12pt;">sudo执行时，有效用户ID是root，实际用户ID是SHLN</font></div></div><div><img src="02---文件系统（函数介绍）_files/Image [1].png" type="image/png" data-filename="Image.png" style="font-size: 12pt;"/></div><div><br/></div><div><br/></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">3.chmod</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;sys/stat.h&gt; </font></div><div><font style="font-size: 12pt;">int chmod(const char *path, mode_t mode);   //<font color="#FF0000">mode是八进制</font></font></div><div><font style="font-size: 12pt;">int fchmod(int fd, mode_t mode);   </font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">./app  111(157)  abc   ---&gt;(---xr-xrwx)</font></div></div><div><span style="font-size: 12pt;"><img src="02---文件系统（函数介绍）_files/Image [2].png" type="image/png" data-filename="Image.png"/></span><span style="font-size: 12pt;"><img src="02---文件系统（函数介绍）_files/Image [3].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">4.chown</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt;</font></div><div><font style="font-size: 12pt;">int chown(const char *path, uid_t owner, gid_t group); </font></div><div><font style="font-size: 12pt;">int fchown(int fd, uid_t owner, gid_t group); </font></div><div><font style="font-size: 12pt;">int lchown(const char *path, uid_t owner, gid_t group);</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">chown使用时必须拥有root权限。</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">5.utimes</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;sys/time.h&gt;</font></div><div><font style="font-size: 12pt;">int utimes(const char *filename, const struct timeval times[2]);</font></div><div><font style="font-size: 12pt;">//修改访问时间和修改时间</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">6.truncate(截断)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt; #include &lt;sys/types.h&gt;</font></div><div><font style="font-size: 12pt;">int truncate(const char *path, off_t length); </font></div><div><font style="font-size: 12pt;">int ftruncate(int fd, off_t length);</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">open也可以截断，O_TRUNC将其长度截断为0</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">7.link</span></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(173, 0, 0); font-weight: bold;">7.1link（硬链接）</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt;</font></div><div><font style="font-size: 12pt;">int link(const char *oldpath, const char *newpath);</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">硬链接：inode一样，目录里有一样的记录项。inode的硬链接为0时才真正的删除</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">              删除一个文件时，将inode的硬链接数减1，将目录中的相应的记录项删去</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">* 硬链接通常要求位于同一文件系统中,POSIX允许夸文件系统 </font></div><div><font style="font-size: 12pt;">* 符号链接没有文件系统限制 </font></div><div><font style="font-size: 12pt;">* <font color="#FF7A74">通常不允许创建目录的硬链接</font>，某些unix系统下超级用户可以创建目录的硬链 </font></div><div><font style="font-size: 12pt;">* 创建目录项以及增加硬链接计数应当是一个原子操作</font></div></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">7.2symlink(符号链接)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">int symlink(const char *oldpath, const char *newpath)</font></div></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">7.3readlink（读符号链接）</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">ssize_t readlink(const char *path, char *buf, size_t bufsiz)</font></div><div><font style="font-size: 12pt;">/</font><font style="font-size: 12pt;"><font>/</font>读符号链接所指向的文件名字，不读文件内容</font></div><div><font style="font-size: 12pt;">  将链接的文件存到buf中，返回读到的文件名的长度</font></div></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">7.4unlink</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">int unlink(const char *pathname) </font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">1. 如果是符号链接，删除符号链接 </font></div><div><font style="font-size: 12pt;">2. 如果是硬链接，硬链接数减1，当减为0时，释放数据块和inode </font></div><div><font style="font-size: 12pt;">3. 如果文件硬链接数为0，但有进程已打开该文件，并持有文件描述符，则等该进程关闭该文件时，kernel才真正去删除该文件</font></div><div><font style="font-size: 12pt;">4. 利用该特性创建临时文件，先open或creat创建一个文件，马上unlink此文件</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">8.rename(文件重命名)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;stdio.h&gt; </font></div><div><font style="font-size: 12pt;">int rename(const char *oldpath, const char *newpath);</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">9.chdir(改变当前进程的工作目录)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt;</font></div><div><font style="font-size: 12pt;">int chdir(const char *path); </font></div><div><font style="font-size: 12pt;">int fchdir(int fd);   //改变到这个文件描述符（是一个目录）下</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font color="#147191" style="font-size: 12pt;">例如：cd /</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">10.getcwd（获取当前进程的工作目录）</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" style="font-size: 12pt;">#include &lt;unistd.h&gt; </font></div><div><font color="#000000" style="font-size: 12pt;">char *getcwd(char *buf, size_t size);   //存放到数组中去，返回路径</font></div></div><div><span style="font-size: 12pt;"><img src="02---文件系统（函数介绍）_files/Image [4].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 12pt;">此时shell任然还是在原来的目录中，app的路径改为了/</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">11.pathconf（测试当前系统下一些资源限度，如文件名的最大长度，IO缓冲区大小）</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt;</font></div><div><font style="font-size: 12pt;">long fpathconf(int fd, int name); </font></div><div><font style="font-size: 12pt;">long pathconf(char *path, int name);</font></div></div><div><span style="font-size: 12pt;"><img src="02---文件系统（函数介绍）_files/Image [5].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 12pt;">255</span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 16pt;"><span style="font-size: 16pt; color: rgb(173, 0, 0); font-weight: bold;">二、目录操作</span></font></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">1.mkdir</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;sys/stat.h&gt; </font></div><div><font style="font-size: 12pt;">#include &lt;sys/types.h&gt;</font></div><div><font style="font-size: 12pt;">int mkdir(const char *pathname, mode_t mode);</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">2.rmdir</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;unistd.h&gt; </font></div><div><font style="font-size: 12pt;">int rmdir(const char *pathname);</font></div></div><div><font color="#AD0000" style="font-size: 12pt;"><br/></font></div><div><font color="#AD0000" style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">3.opendir/fdopendir(打开一个目录)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;sys/types.h&gt; </font></div><div><font style="font-size: 12pt;">#include &lt;dirent.h&gt;</font></div><div><font style="font-size: 12pt;"><font color="#FF7A74">DIR *</font>opendir(const char *name);    //返回一个指向目录中记录项的指针</font></div><div><font style="font-size: 12pt;">DIR *fdopendir(int fd);</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">4.readdir(读目录里的内容)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;dirent.h&gt;</font></div><div><font style="font-size: 12pt;">struct dirent *readdir(<font color="#FF7A74">DIR *dirp</font>);   //</font><font color="#E30000" style="font-size: 12pt;">readdir每次返回(指针指向)一条记录项指针，DIR*指针指向下一条记录项</font></div><div><font color="#E30000" style="font-size: 12pt;">                                        读到文件末尾时返回NULL</font></div></div><div><span style="font-size: 12pt;"><img src="02---文件系统（函数介绍）_files/Image [6].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">5.rewinddir(</span></font><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">把目录指针恢复到目录的起始位置</span></span><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;sys/types.h&gt;</font></div><div><font style="font-size: 12pt;">#include &lt;dirent.h&gt;</font></div><div><font style="font-size: 12pt;">void rewinddir(DIR *dirp);</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">6.telldir/seekdir</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;dirent.h&gt; </font></div><div><font style="font-size: 12pt;">long telldir(DIR *dirp);   //返回目录指针在什么位置</font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">#include &lt;dirent.h&gt; </font></div><div><font style="font-size: 12pt;">void seekdir(DIR *dirp, long offset);   //设置目录到什么位置</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(173, 0, 0); font-weight: bold;">7.closedir（关闭释放目录）</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">#include &lt;sys/types.h&gt; </font></div><div><font style="font-size: 12pt;">#include &lt;dirent.h&gt;</font></div><div><font style="font-size: 12pt;">int closedir(DIR *dirp);</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div></span>
</div></body></html> 