<html>
<head>
  <title>数据分析---matplotlib</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="583"/>
<h1>数据分析---matplotlib</h1>

<div>
<span><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(227, 0, 0); font-weight: bold;">Matplotlib</span></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><span style="font-size: 12pt; font-weight: bold;">figure图像</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">创建一个画板，可以调用</span></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;"><b>plt.figure</b>(</font><font style="font-size: 11pt;"><font color="#E30000">num=None, figsize=None</font>, dpi=None, facecolor=None, edgecolor=None, frameon=True</font><font style="font-size: 11pt;">)</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">num:图像编号或名称，数字为编号 ，字符串为名称</font></div><div><font style="font-size: 11pt;">figsize:指定figure的宽和高，单位为英寸；</font></div><div><font style="font-size: 11pt;">dpi参数指定绘图对象的分辨率，即每英寸多少个像素，缺省值为80      1英寸等于2.5cm,A4纸是 21*30cm的纸张</font></div><div><font style="font-size: 11pt;">facecolor:背景颜色</font></div><div><font style="font-size: 11pt;">edgecolor:边框颜色</font></div><div><font style="font-size: 11pt;">frameon:是否显示边框</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;"><b>plt.subplot()</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">plt.figure(1) # 创建第一个画板（figure）</font></div><div><font style="font-size: 11pt;">plt.subplot(211) # 第一个画板的第一个子图</font></div><div><font style="font-size: 11pt;">plt.plot([1, 2, 3])</font></div><div><font style="font-size: 11pt;">plt.subplot(212) # 第二个画板的第二个子图</font></div><div><font style="font-size: 11pt;">plt.plot([4, 5, 6])</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">plt.figure(2) # 创建第二个画板</font></div><div><font style="font-size: 11pt;">plt.plot([4, 5, 6]) # <b>默认子图命令是subplot(111)</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">plt.figure(1) # 调取画板1; subplot(212)仍然被调用中</font></div><div><font style="font-size: 11pt;">plt.subplot(211) # 调用subplot(211)</font></div><div><font style="font-size: 11pt;">plt.title('Easy as 1, 2, 3') # 做出211的标题</font></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#6A0081"><b>设置图像大小</b></font></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">fig = plt.figure(figsize=(20,8), dpi=80)</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">x=</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">y=</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">plt.plot(x,y)</span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#E30000">plt.savefig</font></span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">(&quot;./t1.png&quot;)</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">plt.show()</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#6A0081"><b>调整x轴或y轴刻度</b></font></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">x=range(2,26,2)</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">plt.xticks(x)</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">plt.xticks(x[ : :2])</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">x1=list(x)[::10]</font></div><div><font style="font-size: 12pt;">xtick_labels=[&quot;hello,{}&quot;.format(i) for i in x1]</font></div><div><font style="font-size: 12pt;">plt.xticks(x1,xtick_labels,rotation=90)</font></div><div><font style="font-size: 12pt;">plt.show()</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#6A0081"><b>设置中文字体</b></font></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">my_font = font_manager.FontProperties(fname=&quot;Sysytem/Library/Fonts/PingFang.ttc&quot;)</span></div><div><font style="font-size: 12pt;">plt.xticks(x1,xtick_labels,rotation=90,fontproperties=my_font)</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><b><font color="#6A0081">设置图形信息</font></b></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 12pt;">plt.xlabel(&quot;时间&quot;，fontproperties=my_font)</font></span></div><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco;">plt.ylabel(&quot;温度&quot;,</span>fontproperties=my_font<span style="color: rgb(51, 51, 51); font-family: Monaco;">)</span></font></div><div><font style="font-size: 12pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco;">plt.title(&quot;10点到12点每分钟的气温变化&quot;,</span>fontproperties=my_font<span style="color: rgb(51, 51, 51); font-family: Monaco;">)</span></font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#6A0081"><b>画网格</b></font></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">plt.grid(alpha=0.4) //alpha透明度（0-1）</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#6A0081"><b>画多条线</b></font></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">plt.plot(x1,y1, label=&quot;一&quot;)</font></div><div><font style="font-size: 12pt;">plt.plot(x2,y2, label=&quot;二&quot;)</font></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 12pt;">plt.legend(prop=my_font，loc=&quot;upper left&quot;) //loc调整位置</font></span></div></div><div><br/></div><div><span style="font-size: 12pt;">自定义绘制风格</span></div><div><span style="font-size: 12pt;"><img src="数据分析---matplotlib_files/Image.png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font><font style="font-size: 12pt;"><b>散点图</b></font></font></div><div><font><font style="font-size: 12pt;"><br/></font></font></div><div><font><font style="font-size: 12pt;">plt.scatter(x,y)</font></font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><b>条形图</b></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">plt.bar(x,y,width)</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">a=['q','w','e','r']</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">b1 = [1,2,3,4]</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">b2 = [2,5,6,9]</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">b3 = [8,6,3,1]</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191"><br/></font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">x1 = list(range(len(a)))</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">x2 = [i+0.2  for i in x1]</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">x3 = [i+0.2*2  for i in x1]</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191"><br/></font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">plt.figure()</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">plt.bar(range(len(a)), b1, width=0.2)</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">plt.bar(x2, b2, width=0.2)</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">plt.bar(x3, b3, width=0.2)</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191"><br/></font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#147191">plt.xticks(x2, a)</font></span></div></div><div><img src="数据分析---matplotlib_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><b>直方图</b></font></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">组数：将数据分组，当数据在100个以内时，分为5-12组</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">组距：指每个小组的两个端点的距离</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">组数：极差/组距 = ( max(a)-min(a) )/bin_width</span></div><div><font style="font-size: 12pt;">plt.hist(a,num_bins,normed=True) //normed：频率分布直方图</font></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><b>一般来说能够使用plt.hist方法的是那些没有统计过的数据</b></span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><b>统计之后的数据，为了能达到直方图的效果，可以用条形图</b><br/></font></div></div><div><br/></div><div><img src="数据分析---matplotlib_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><img src="数据分析---matplotlib_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div><img src="数据分析---matplotlib_files/Image [4].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><font style="font-size: 11pt;"><br/></font></div></span>
</div></body></html> 