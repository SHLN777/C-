<html>
<head>
  <title>02---特征预处理</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="589"/>
<h1>02---特征预处理</h1>

<div>
<span><div><font style="font-size: 12pt;">通过<font style="color: rgb(227, 0, 0);">特定的统计方法</font>（数学方法）将数据转换成<font style="color: rgb(227, 0, 0);">算法要求的数据</font><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">数值型数据：标准缩放</font></div><div><font style="font-size: 12pt;"><span>    </span><span>    </span><span>    </span><span>    </span><span>    1.归一化</span><br/></font></div><div><font style="font-size: 12pt;"><span><span>    </span><span>    </span><span>    </span><span>    </span><span>    2.标准化</span><br/></span></font></div><div><font style="font-size: 12pt;"><span><span>    </span><span>    </span><span>    </span><span>    </span><span>    3.缺失值</span><br/></span></font></div><div><font style="font-size: 12pt;"><span>类别型数据：one-hot编码</span></font></div><div><font style="font-size: 12pt;"><span>时间类型：时间的切分</span></font></div><div><font style="font-size: 12pt;"><span><br/></span></font></div><div><font style="font-size: 12pt;"><span><br/></span></font></div><div><font style="font-size: 12pt;"><span><br/></span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font><font style="font-size: 16pt;">sklearn.<font color="#E30000">preprocessing</font></font><br/></font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#E30000"><b>归一化</b></font></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#E30000">目的：使得某一个特征对最终结果不会造成更大影响</font></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">特点：通过对原始数据进行变换把数据映射到（默认为[0,1]之间）</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">缺点：对有异常点的数据处理不是很好，异常点对最大最小值影响太大</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">公式：X = (x-min)/(max-min)</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><span>    </span><span>    </span><span>  X` = X*(mx-mi) + mi</span><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">注：作用于每一列，max为一列的最大值，min为一列的最小值，那么X`为最终的结果，</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><span>    </span><span>    mx,mi分别为指定区间值，默认mx为1，mi为0</span><br/></span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">sklearn.preprocessing.</span><span style="font-size: 12pt; font-family: Monaco;"><font color="#E30000">MinMaxScaler</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#E30000"><br/></font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#000000">MinMaxScalar(</font><font color="#E30000">feature_range=(0,1)..</font><font color="#000000">.)  //默认为0,1， 可以设置其他值</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#000000">MinMaxScalar,fit_transform(X)</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#000000">注：x：numpy  array格式的数据[n_samples, n_features]</font></span></div><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#000000">       返回值：转换后的形状相同的array</font></span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><font color="#147191">mm = MinMaxScaler()</font><br/></font></div><div><font style="font-size: 12pt;"><font color="#147191">data = mm.fit_transform([[90,2,10],[60,5,45],[53,98,52]])</font></font></div><div><font style="font-size: 12pt;"><font color="#147191">print(data)</font></font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#E30000" style="font-size: 12pt;"><b>标准化（适合大数据）</b></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">特点：通过对原始数据进行变换把数据变换到均值为0，方差为1范围内</font></div><div><font style="font-size: 12pt;">公式：X = (x-mean)/标准差</font></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">优点：少量的异常点影响不大</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">sklearn.preprocessing.<font color="#E30000">StandarScaler</font></font></div><div><font style="font-size: 12pt;"><font color="#E30000"><br/></font></font></div><div><font color="#000000" style="font-size: 12pt;">StandarScaler(...)</font></div><div><font color="#000000" style="font-size: 12pt;">StandarScaler.fit_transform(X)</font></div><div><font color="#000000" style="font-size: 12pt;">StandarScaler.mean_  //原始数据中每列特征的平均值</font></div><div><font color="#000000" style="font-size: 12pt;">StandarScaler.std_</font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; font-family: Monaco;"><font color="#E30000"><b>缺失值</b></font></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">处理：</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">1.删除：如果每列或者行数据缺失值达到一定的比例，建议放弃整行或者整列</span></div><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">2.</span><span style="font-size: 12pt; font-family: Monaco;"><font color="#E30000">插补</font></span><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;">：可以通过缺失值每行或者每列的平均值、中位数俩填充</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;">sklearn.preprocessing.<font color="#E30000">imputer</font></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;">Imputer(missing_values='NaN',strategy='mean',axis=0)  //这里axis=0表示列</font></div><div><font style="font-size: 12pt;">Imputer.fit_transform(X)  //<font color="#E30000">缺失值要为np.nan</font></font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><font color="#147191">im = Imputer(missing_values='NaN',strategy='mean',axis=0)</font><br/></font></div><div><font style="font-size: 12pt;"><font color="#147191">data im.fit_transform([1,2],[np.nan,3],[6,3])</font></font></div><div><font style="font-size: 12pt;"><font color="#147191">print(data)</font></font></div></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><font style="font-size: 12pt;"><br/></font></div></span>
</div></body></html> 