<html>
<head>
  <title>基础---2（数组、指针、结构体）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="530"/>
<h1>基础---2（数组、指针、结构体）</h1>

<div>
<span><div><span style="font-size: 12pt;">一、数组</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">定义方法：</font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">1. 数据结构  数组名[数组长度]；</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">2. 数据结构  数组名[数组长度] = { 值1， 值2 ...};</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">3. 数据结构  数组名[ ] = </font></span>{ 值1， 值2 ...};</div><div><br/></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">用途：</font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">1. 可以统计整个数组在内存中的长度</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    sizeof(arr)   sizeof(arr[0])   sizeof(arr)/sizeof(arr[0])</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">2.可以通过数组名查看数组的首地址</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    首地址：(int)arr  、(int)&amp;arr[0]</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    对于整型，第一个元素的地址与第二个元素差4个字节</font></span></div></div><div><br/></div><div><span style="font-size: 12pt;">二、二维数组</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">定义方法：</font></div><div><font style="font-size: 11pt;">1. 数据结构  数组名[行数][列数]；</font></div><div><font style="font-size: 11pt;"><font>2. 数据结构  数组名</font>[行数][列数] <font>= { { 值1， 值2 ...} ,{}, {} };</font></font></div><div><font style="font-size: 11pt;"><font>3. 数据结构  数组名</font>[ ][列数] <font>= { { 值1， 值2 ...}, {},  {} };</font></font></div><div><font style="font-size: 11pt;"><font>4. 数组类型  数组名[行数][列数] = {a, b, c, d, ... }</font></font></div><div><font style="font-size: 11pt;"><font><br/></font></font></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">用途：</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">1.查看二维数组所占内存空间</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    sizeof(arr)  、 sizeof(arr[0]) 、 sizeof(arr[0][0])</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">2.获取二维数组首地址</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    (int)arr、 (int)arr[0] 、(int)&amp;arr[0][0]</span></div></div><div><font style="font-size: 10pt;"><br/></font></div><div><span style="font-size: 12pt;">三、函数</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">1.常见的样式：</font></div><div><font style="font-size: 11pt;">    1.有参无返</font></div><div><font style="font-size: 11pt;">    2.无参无返</font></div><div><font style="font-size: 11pt;">    3.有参有返</font></div><div><font style="font-size: 11pt;">    4.无参有返</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">2.函数的声明：(告诉编译器，这个函数存在)</font></div><div><font style="font-size: 11pt;">  函数的定义：(告诉编译器，这个函数该怎么写）</font></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">声明可以多次，定义只有一次</span></div><div><font style="font-size: 11pt;">    int func();</font></div><div><font style="font-size: 11pt;">    int func()</font></div><div><font style="font-size: 11pt;">    {}</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">3. 函数的分文件编写</font></div><div><font style="font-size: 11pt;">    1.创建后缀为.h的头文件</font></div><div><font style="font-size: 11pt;">    2.创建后缀为.cpp的源文件</font></div><div><font style="font-size: 11pt;">    3.在头文件中写函数的声明</font></div><div><font style="font-size: 11pt;">    4.在源文件中写函数的定义</font></div></div><div><font style="font-size: 10pt;"><br/></font></div><div><span style="font-size: 12pt;">四、指针（就是一个地址）</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">1.a = 7;       //a中存放的是7</font></div><div><font style="font-size: 11pt;">  int *p = &amp;a; //p中存放的是地址&amp;a</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">2.指针占四个字节（在32位操作系统），存16进制的地址数</font></div><div><font style="font-size: 11pt;">    </font></div><div><font style="font-size: 11pt;">  sizeof(p)或sizeof(int *) </font></div><div><font style="font-size: 11pt;">  sizeof(double *)</font></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><font style="font-size: 11pt;">3.空指针和野指针</font></div><div><font style="font-size: 11pt;">    （1）空指针：指针变量指向内存中编号为0的空间</font></div><div><font style="font-size: 11pt;">         用途：初始化指针变量</font></div><div><font style="font-size: 11pt;">         注意：空指针指向的内存是不可以访问的</font></div><div><font style="font-size: 11pt;">               0~255的内存编号是系统占用的，因此不可访问</font></div><div><font style="font-size: 11pt;">          int *p = NULL;</font></div><div><font style="font-size: 11pt;">    （2）野指针：指针变量指向非法的内存空间</font></div><div><font style="font-size: 11pt;">         int *p = (int *)0×1100；</font></div><div><br/></div><div><font style="font-size: 11pt;">4.const修饰指针</font></div><div><font style="font-size: 11pt;">    1.const修饰指针 ---常量指针</font></div><div><font style="font-size: 11pt;">        const int *p = &amp;a; //指向可改，指向的值不可改</font></div><div><font style="font-size: 11pt;">    2.const修饰常量 ---指针常量</font></div><div><font style="font-size: 11pt;">        int* const p = &amp;a; //指向不能改，指向的值可以改</font></div><div><font style="font-size: 11pt;">    3.const既修饰指针，也修饰常量</font></div><div><br/></div><div><font style="font-size: 11pt;">5.指针和数组</font></div><div><font style="font-size: 11pt;">    int *p = arr;</font></div><div><font style="font-size: 11pt;">    int *p = &amp;arr[0];</font></div><div><font style="font-size: 11pt;">6.指针和函数</font></div><div><font style="font-size: 11pt;">    int func(int *p) {}</font></div></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><span style="font-size: 12pt;">五、结构体（用户自定义的数据类型）</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">语法：struct  结构体名 {结构体成员列表};</font></span></div><div><span style="font-size: 11pt; font-family: Monaco;">注：<b><font color="#E30000">在C++中创建变量时，struct关键字可以不写</font></b></span></div><div><br/></div><div><span style="font-family: Monaco;"><font color="#E30000" style="font-size: 11pt;">struct  student</font></span></div><div><span style="font-family: Monaco;"><font color="#E30000" style="font-size: 11pt;">{</font></span></div><div><span style="font-family: Monaco;"><font color="#E30000" style="font-size: 11pt;">    string  name;</font></span></div><div><span style="font-family: Monaco;"><font color="#E30000" style="font-size: 11pt;">    int  age;</font></span></div><div><span style="font-family: Monaco;"><font color="#E30000" style="font-size: 11pt;">    int  score;</font></span></div><div><span style="font-family: Monaco;"><font color="#E30000" style="font-size: 11pt;">};</font></span></div><div><br/></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">创建变量方式：</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    1. struct 结构体名 变量名</span></div><div><span style="font-size: 11pt; font-family: Monaco;"><span style="color: rgb(51, 51, 51);">    </span>   <span style="color: rgb(51, 51, 51);">    </span> <font color="#E30000">struct  Student  s1;</font></span></div><div><span style="font-size: 11pt; font-family: Monaco;"><font color="#E30000">            s1.name = </font></span></div><div><br/></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    2. struct 结构体名 变量名 = {成员1， 成员2...}</span></div><div><span style="font-size: 11pt; font-family: Monaco;"><span style="color: rgb(51, 51, 51);">    </span>    <span style="color: rgb(51, 51, 51);">    </span><font color="#E30000">struct  Student  s2 = {&quot;小明&quot;, 19, 87 };</font></span></div><div><br/></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    3.定义结构体是顺便创建变量</span></div><div><span style="font-family: Monaco;"><span style="color: rgb(51, 51, 51); font-size: 11pt;">          </span> <font color="#E30000" style="font-size: 11pt;"> </font></span><font color="#E30000" style="font-size: 11pt;">struct  student</font></div><div><font color="#E30000" style="font-size: 11pt;">        {</font></div><div><font color="#E30000" style="font-size: 11pt;">            string  name;</font></div><div><font color="#E30000" style="font-size: 11pt;">            int  age;</font></div><div><font color="#E30000" style="font-size: 11pt;">            int  score;</font></div><div><font color="#E30000" style="font-size: 11pt;">        }s3;</font></div><div><font color="#E30000" style="font-size: 11pt;">        s3.name = &quot;aaa&quot;</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;"><b>结构体数组</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">作用：将自定义的结构体放到数组中方便维护</font></div><div><font style="font-size: 11pt;">语法：struct 结构体名 数组名[元素个数] = { {}， {}，...， {} }</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">struct student</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">{</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    string name;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    int age;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    int score;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">};</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">int main()</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">{</span></div><div><span style="font-size: 11pt; font-family: Monaco;">    <font color="#E30000">struct student arr[3]={ {&quot;aa&quot;, 18, 99}, {&quot;ss&quot;, 15, 87}, {&quot;ff&quot;, 18, 90} };</font></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    </span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    arr[0].name = &quot;ee&quot;;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><b>结构体指针</b></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">作用：通过指针访问结构体中的成员</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">利用操作符 -&gt; 可以通过结构体指针访问结构体属性</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">student  stu={ };</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">struct  student  *p = &amp;stu</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">p-&gt;name = &quot; tt&quot;;</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;"><b>结构体嵌套结构体</b></font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">struct  teacher</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">{</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    int id;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    string name;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    int age;</font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 11pt;">  <font color="#E30000">  struct student stu;</font></font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">};</font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">int main()</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">{</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    teacher t;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    t.name = &quot;vv&quot;;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    t.age = 50;</font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 11pt;">    <font color="#E30000">t.stu.name = &quot;uu&quot;;</font></font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 11pt;"><font color="#E30000">    t.stu.age = 18;</font></font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">}</font></span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">结构体做函数参数</font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">传递方式有两种：</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    1.值传递</font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 11pt;"><span style="color: rgb(51, 51, 51);">    </span>    <font style="color: rgb(227, 0, 0);">void  printStudent(student  stu);</font></font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    2.地址传递</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">        </font></span><font color="#E30000" style="font-size: 11pt;">void  printStudent(student  *stu);</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">结构体中const的使用</font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">作用：用const来防止误操作</font></span></div><div><br/></div><div><span style="font-family: Monaco;"><font style="font-size: 11pt;">void printStudent(<font color="#E30000">const student  *stu</font>)  //指针可以节省地址（只占4个字节）</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">{</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    stu-&gt;age = 10;  //失败</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">}</font></span></div></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div></span>
</div></body></html> 