<html>
<head>
  <title>提高7---（STL常见容器map）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="724"/>
<h1>提高7---（STL常见容器map）</h1>

<div>
<span><div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(227, 0, 0); font-weight: bold;">map/multimap  </span></font></div><div><font style="font-size: 11pt;"> </font></div><ul><li><div><span style="font-size: 11pt;"><span style="font-size: 11pt; color: rgb(227, 0, 0); font-weight: bold;">map中的所有元素都是pair</span></span></div></li><li><div><span style="font-size: 11pt;">pair中第一个元素为key（键值），起到索引作用，第二个元素为value（实值）</span></div></li><li><div><span style="font-size: 11pt;"><span style="font-size: 11pt; color: rgb(227, 0, 0); font-weight: bold;">所有元素都会根据元素的键值自动排序</span></span></div></li></ul><div><span style="font-size: 11pt;"><br/></span></div><div><span style="font-size: 11pt;">本质：map/multimap属于关联式容器，底层结构是用二叉树实现</span></div><div><font style="font-size: 11pt;"><br/></font></div><div><span style="font-size: 11pt;">map和multimap区别：</span></div><ul><li><div><span style="font-size: 11pt;">map不允许容器中有重复key值元素</span></div></li><li><div><span style="font-size: 11pt;">multimap允许容器中有重复key值元素</span></div></li></ul><div><font style="font-size: 11pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font><font style="font-size: 12pt;"><b>map构造</b></font></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">map&lt;T&gt; mp;</font></div><div><font style="font-size: 11pt;">    <font color="#147191">map&lt;int, int&gt; m;</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">   </font> <font color="#E30000"><b>m.insert(pair&lt;int, int&gt;(1, 10));</b></font><font color="#147191">  //匿名对组</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">    .</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">    .</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">    .</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">    for(map&lt;int,int&gt;::iterator it=m.begin();it!=m.end();it++)</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">    {</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">        cout&lt;&lt;(*it).first&lt;&lt;(*it).second&lt;&lt;endl;</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">    }</font></font></div><div><font style="font-size: 11pt;">map(const map &amp;mp);</font></div><div><font style="font-size: 11pt;">  <font color="#147191">  map&lt;int, int&gt;m2(m);</font></font></div></div><div><font style="font-size: 11pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><b>map赋值</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">map&amp; operator=(const map &amp;mp);</font></div><div><font style="font-size: 11pt;">    <font color="#147191">map&lt;int, int&gt;m3;</font></font></div><div><font style="font-size: 11pt;"><font color="#147191">    m3 = m2;</font></font></div></div><div><font style="font-size: 11pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><b>map大小和交换</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">size();</font></div><div><font style="font-size: 11pt;">empty();</font></div><div><font style="font-size: 11pt;">swap(st);</font></div></div><div><font style="font-size: 11pt;"><br/></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><b>map插入和删除</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">insert(elem);</font></div><div><font style="font-size: 11pt;">    m.insert(make_pair(2,20));</font></div><div><font style="font-size: 11pt;">    m[4] = 40;</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">erase(pos);</font></div><div><font style="font-size: 11pt;">    m.erase(m.begin());</font></div><div><font style="font-size: 11pt;">erase(beg, end);</font></div><div><font style="font-size: 11pt;">    m.erase(m.begin(), m.end());  //清空</font></div><div><font style="font-size: 11pt;">erase(key);  //删除容器中值为key的元素</font></div><div><font style="font-size: 11pt;">    m.erase(3);</font></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(51, 51, 51); font-family: Monaco;"><b>map查找和统计</b></span></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">find(key);  //存在，<b>返回迭代器</b></font></div><div><font style="font-size: 11pt;">count(key);  //统计key的元素个数，要么为1，要么为0</font></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font><font style="font-size: 12pt;"><b>map容器排序</b></font></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">按照key值进行从小到大排序</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">利用仿函数，可以改变排序规则</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font color="#147191" style="font-size: 11pt;">class MyCompare</font></div><div><font color="#147191" style="font-size: 11pt;">{</font></div><div><font color="#147191" style="font-size: 11pt;">public:</font></div><div><font color="#147191" style="font-size: 11pt;">    bool operator()(int v1, int v2)</font></div><div><font color="#147191" style="font-size: 11pt;">    {</font></div><div><font color="#147191" style="font-size: 11pt;">        return v1&gt;v2; //降序</font></div><div><font color="#147191" style="font-size: 11pt;">    }</font></div><div><font color="#147191" style="font-size: 11pt;">};</font></div><div><font color="#147191" style="font-size: 11pt;">map&lt;int, int, MyCompare&gt; m;</font></div><div><font color="#147191" style="font-size: 11pt;">m.insert(make_pair(1,53));</font></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 