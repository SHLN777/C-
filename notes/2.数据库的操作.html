<html>
<head>
  <title>2.数据库的操作</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="633"/>
<h1>2.数据库的操作</h1>

<div>
<span><div><ul><li><div>显示</div></li></ul><div>            显示时间：select now();</div><div>            显示版本：select version();</div><div><br/></div><ul><li><div>创建</div></li></ul><div>            创建数据库：create database 数据库名;        <span style="font-style: italic;"> 默认编码为：latin</span></div><div>            指定编码创建：create database 数据库名 <span style="color: rgb(227, 0, 0);">charset=utf8</span>; </div><div>            查看创建数据库的语句：show create database 数据库名；</div><div><br/></div><ul><li><div>删除</div></li></ul><div>            drop database `数据库名`;</div><div><br/></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(227, 0, 0); font-weight: bold;">数据表的操作（在一个数据库中）</span></font></div><div><font style="font-size: 10pt;"><br/></font></div><div style="margin-left: 40px;">查看所有数据库：<span style="color: rgb(28, 51, 135);">show databases</span>;</div><div style="margin-left: 40px;"><span style="font-size: 10pt;">进入一个数据库：use 数据库名;</span></div><div style="margin-left: 40px;"><span style="font-size: 10pt;">查看当前的数据库：select  database();</span></div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;"><font style="font-size: 10pt;"><br/></font></div><div style="margin-left: 40px;">查看当前数据库所有的表：<span style="color: rgb(28, 51, 135);">show tables</span>;</div><div style="margin-left: 40px;">创建表：create table 表名(id  int,  name  vaechar(30) );</div><div style="margin-left: 40px;">创建表（加约束条件）：create table 表名(id  int <span style="color: rgb(54, 101, 238);">primary key</span> <span style="color: rgb(118, 0, 216);">not null</span> <span style="color: rgb(123, 0, 61);">auto_increment</span>,  name  vaechar(30) );</div><div style="margin-left: 40px;">查看表结构：desc 表名;</div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;">例：</div><div style="margin-left: 40px;"><img src="2.数据库的操作_files/Image.png" type="image/png" data-filename="Image.png"/></div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;"><img src="2.数据库的操作_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div style="margin-left: 40px;"><br/></div><div style="margin-left: 40px;">查看有没有插入成功：</div><div style="margin-left: 40px;"><img src="2.数据库的操作_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div style="margin-left: 40px;"><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(227, 0, 0); font-weight: bold;">数据的增删改查</span></font></div><div><span style="font-size: 10pt;"><br/></span></div><div><span style="font-size: 16pt; color: rgb(227, 0, 0);">增</span></div><div><span style="font-size: 10pt;">            添加一个数据：insert into 表名(列1...) values(值1, ...)  ;</span></div><div><span style="font-size: 10pt;">            给特定字段插值：insert into 表名（name, gender） values(&quot;xiaoming&quot; , 22) ;  </span></div><div><span style="font-size: 10pt;">            多行插入：</span><span style="font-size: 10pt;">insert into 表名（name, gender）</span><span style="font-size: 10pt;"> values(&quot;xiaoming&quot; , 22),(&quot;xiaohong&quot; , 33) ;</span></div><ul><ul><ul><li><div><span style="font-size: 10pt;">对于自动增长的键，可以用0，default, null来占位</span></div></li><li><div>对于枚举enum，可以用序号（1,2,3,4等）来填写</div></li></ul></ul></ul><div><span style="font-size: 10pt;">            </span></div><div><span style="font-size: 16pt; color: rgb(227, 0, 0);">改</span></div><div><span style="font-size: 10pt; color: rgb(227, 0, 0); font-weight: bold;">           </span> <span style="font-size: 10pt;">添加一个字段：alter  table  表名  add  birthday</span> <span style="font-size: 10pt; color: rgb(186, 0, 255);">datatime</span> <span style="font-size: 10pt;">;</span></div><div><span style="font-size: 10pt;"><span>    </span><span>    </span><span>    </span></span><span style="font-size: 10pt;">删除一个字段：alter table 表名 drop high（列名）;</span></div><div><span style="font-size: 10pt;">            修改类型： alter table 表名 modify birthday</span> <span style="font-size: 10pt; color: rgb(186, 0, 255);">data</span> <span style="font-size: 10pt;">; </span></div><div><span style="font-size: 10pt;">            修改字段（重命名）：alter table 表名 change birthday</span> <span style="font-size: 10pt; color: rgb(255, 0, 0);">birth</span> <span style="font-size: 10pt;">data default &quot;1900-01-01&quot;</span></div><div><br/></div><div><span style="font-size: 10pt;">            <span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">修改：updata 表名 set  列1=值1, 列2=值2...  where  id=3；</span></span></div><div><br/></div><div><span style="font-size: 16pt; color: rgb(227, 0, 0);">删</span></div><div><span style="font-size: 10pt;">            删除一个字段：alter table 表名 drop high（列名）;</span></div><div><span style="font-size: 10pt;">            删除表：drop table 表名;</span></div><div><span style="font-size: 10pt;">            删除数据库：drop database 数据库;</span></div><div><br/></div><ul><li><div><span style="font-size: 10pt;"> </span> <span style="font-size: 10pt; color: rgb(28, 51, 135);"> </span> <span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">物理删除（真的删除）</span></div></li></ul><div><span style="font-size: 10pt;">     <span style="font-size: 10pt; font-weight: bold;">   </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    删除表：delete  from  表名；</span></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">            按行删：delete  from  表名  where  name=&quot;xiaoming&quot;；</span></span></div><ul><li><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    逻辑删除</span></span></div></li></ul><div><span style="color: rgb(28, 51, 135); font-weight: bold;">            ——用一个字段来表示，这条信息是否已经不能再使用了</span></div><div><span style="color: rgb(28, 51, 135); font-weight: bold;">            ——给表添加一个is_delete字段  bit  类型</span></div><div><span style="color: rgb(28, 51, 135); font-weight: bold;">            alter  table  表名  add  is_delete  bit  default  0；</span></div><div><span style="color: rgb(28, 51, 135); font-weight: bold;">            updata  表名  set  is_delete=1  where  id=6；  </span></div><div><span style="font-size: 10pt;">            </span></div><div><br/></div><div><span style="font-size: 16pt; color: rgb(255, 0, 0);">查</span></div><div><span style="font-size: 10pt;">            查看创建的表：show create table 表名;</span></div><div><span style="font-size: 10pt;">            查看表结构：desc 表名</span></div><div><br/></div><div><span style="font-size: 10pt;">            查看表：select * from 表名;</span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(227, 0, 0); font-weight: bold;"> </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">           按条件查询：select * from 表名 where name=&quot;xiaoming&quot; ;              or  iwhere  id&lt;9</span></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">            按指定列查询：select name, gender  from students;</span></span></div><div><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    </span><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">    select</span> <span style="font-size: 10pt; color: rgb(227, 0, 0); font-weight: bold;">students.name</span> <span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">from students;</span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">            可以使用as为列或表指定别名：select name as 姓名, gender as 性别 from 表名</span></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">            可以改变顺序：select  id as 序号, gender as 性别，name as 姓名，from 表名</span></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt;"><br/></span></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(28, 51, 135); font-weight: bold;">            消除重复行：select distinct  gender  from  表名；    --消除重复的gender</span></span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 10pt; color: rgb(227, 0, 0); font-weight: bold;">            </span></div><div><span style="font-size: 10pt; color: rgb(227, 0, 0); font-weight: bold;">            </span></div><div><span style="font-size: 10pt; color: rgb(227, 0, 0); font-weight: bold;">            </span></div><div><span style="font-size: 10pt; color: rgb(227, 0, 0); font-weight: bold;">            </span></div><div><span style="font-size: 10pt;"><br/></span></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><font style="font-size: 10pt;"><br/></font></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 