<html>
<head>
  <title>提高2---（STL基础）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601935 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="607"/>
<h1>提高2---（STL基础）</h1>

<div>
<span><div><div><font style="font-size: 14pt;"><span style="color: rgb(227, 0, 0); font-size: 14pt; font-weight: bold;">STL的基本概念</span></font></div><div><font style="font-size: 12pt;"><br/></font></div><div><span style="font-size: 12pt;">诞生：</span></div><ul><li><div><span style="font-size: 12pt;">长久以来，软件界一直希望建立一种可重复利用的东西</span></div></li><li><div><span style="font-size: 12pt;">C++的面向对象和泛型编程思想，目的就是复用性的提升</span></div></li><li><div><span style="font-size: 12pt;">大多情况下，数据结构和算法都未能有一套标准，导致被迫从事大量重复工作</span></div></li><li><div><span style="font-size: 12pt;">为了建立数据结构和算法的一套标准，诞生了STL</span></div></li></ul><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">基本概念：</span></div><ul><li><div><span style="font-size: 12pt;">STL（标准模板库）</span></div></li><li><div><span style="font-size: 12pt;">STL从广义上分为：容器、算法、迭代器</span></div></li><li><div><span style="font-size: 12pt;">容器和算法之间通过迭代器进行无缝连接</span></div></li><li><div><span style="font-size: 12pt;">STL几乎所有的代码都采用模板类或模板函数</span></div></li></ul><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">STL六大组件</span></div><ol><li><div><span style="font-size: 12pt;">容器：各种数据结构，如vector、list、deque、set、map等，用来存放数据。</span></div></li><li><div><span style="font-size: 12pt;">算法：各种常用的算法，如sort、find、copy、for_each等</span></div></li><li><div><span style="font-size: 12pt;">迭代器：扮演了容器与算法之间的胶合剂</span></div></li><li><div><span style="font-size: 12pt;">仿函数：行为类似函数，可作为算法的某种策略</span></div></li><li><div><span style="font-size: 12pt;">适配器：一种用来修饰容器或者仿函数或迭代器的东西</span></div></li><li><div><span style="font-size: 12pt;">空间适配器：负责空间的配置与管理</span></div></li></ol><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;">STL中容器、算法、迭代器</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">容器：置物之所也</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">分类：</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    序列式容器：强调值的排序，序列式容器中的每个元素均有固定的位置</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    关联式容器：二叉数结构，各元素之间没有严格的物理上的顺序关系</font></span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">算法（Algorithms）：解决问题</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">分类：</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    质变算法：指运算过程中会更改区间内的元素的内容。如拷贝，替换，删除等。</span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><span style="font-size: 11pt;">    非质变算</span><font style="font-size: 11pt;">法：</font></span><font style="font-size: 11pt;">指运算过程中不会更改区间内的元素的内容。如查找，计数，遍历等。</font></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt;">迭代器：容器和算法之间的粘合剂</font></div><div><font style="font-size: 11pt;">提供一种方法，使之能够依序寻访某个容器所含的各个元素，而又无需暴露该容器的内部表示方式</font></div><div><font style="font-size: 11pt;">每个容器都有自己专属的迭代器</font></div><div><font style="font-size: 11pt;">迭代器使用类似于指针</font></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">分类：</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    输入迭代器：对数据的只读访问           ++、==、！=</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    输出迭代器：对数据的只写访问           ++</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    前向迭代器：读写操作，并能向前推进迭代器        ++、==、！=</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    <b>双向迭代器</b>：读写操作，并能向前和向后操作        ++、--</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    <b>随机访问迭代器</b>：读写操作，可以以跳跃的方式访问任意数据   </span></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><font style="font-size: 14pt;"><span style="color: rgb(227, 0, 0); font-size: 14pt; font-weight: bold;">vector</span></font></div><div><font style="font-size: 10pt;"><br/></font></div><div>容器：vector</div><div>算法：for_each</div><div>迭代器：vector&lt;int&gt;: : iterator</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">#include&lt;vector&gt;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">#include&lt;algotithm&gt;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">#include&lt;iostream&gt;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">using namespace std;</font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">int main()</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">{</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    vector&lt;int&gt; v;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    v.push_back(1);</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    v.push_back(2);</font></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    v.push_back(3);</span></div><div><br/></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    vector&lt;int&gt;: :iterator  itBegin = v.begin(); //其实迭代器，指向容器中的第一个元素</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    </span><font style="font-size: 11pt;">vector&lt;int&gt;::iterator  itEnd = v.begin(); //指向容器中最后一个元素的下一个位置</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">    //第一种</font></div><div><font style="font-size: 11pt;">  <font color="#1ECCFF">while(itBegin != itEnd)</font></font></div><div><font color="#1ECCFF" style="font-size: 11pt;">  {</font></div><div><font color="#1ECCFF" style="font-size: 11pt;">     cout&lt;&lt;*itBegin&lt;&lt;endl;</font></div><div><font color="#1ECCFF" style="font-size: 11pt;">     itBegin++;</font></div><div><font color="#1ECCFF" style="font-size: 11pt;">  }</font></div><div><font style="font-size: 11pt;">    </font></div><div><font style="font-size: 11pt;">    //第二种</font></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    for(vector&lt;int&gt;: : iterator  it =  v.begin() ; it != v.end() ; it++)</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    {</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">        cout&lt;&lt;*it&lt;&lt;endl;</font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">    }</font></span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">        //第三种，利用STL提供遍历算法（要包含标准算法头文件）</font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 11pt;">    <font color="#147191">void  myprint(int val)</font></font></span></div><div><span style="font-family: Monaco;"><font color="#147191" style="font-size: 11pt;">    {</font></span></div><div><span style="font-family: Monaco;"><font color="#147191" style="font-size: 11pt;">        cout&lt;&lt;val&lt;&lt;endl;</font></span></div><div><span style="font-family: Monaco;"><font color="#147191" style="font-size: 11pt;">    }</font></span></div><div><span style="font-family: Monaco;"><font style="font-size: 11pt;"><font color="#147191">    for_each(v.begin() , v.end() , myprint) ; </font></font></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">}</font></span></div><div><br/></div></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 12pt;"><b>vector存放自定义数据类型</b></font></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">#include&lt;vector&gt;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">class Person</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">{</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">public:</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    Person(string name, int age)</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    {</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">        m_Name = name;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">        m_Age = age;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">private:</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    string  m_Name;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    int  m_Age;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">int main()</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">{</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    vector&lt;Person&gt;v;</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    Person p1(&quot;xiaoming&quot;, 18);</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    Person p2(&quot;xiaohong&quot;, 19);</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    Person p3(&quot;xiaoli&quot;, 14);</span></div><div><br/></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    v.push_back(p1);</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    v.push_back(p2);</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    v.push_back(p3);</span></div><div><br/></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    for(vector&lt;Person&gt;::iterator it = v.begin(); it != v.end() ; it++)</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    {    </span></div><div><span style="font-size: 11pt; font-family: Monaco;"><span style="color: rgb(51, 51, 51);">    </span>    <font color="#1A90B9">cout&lt;&lt;(*it).m_Name&lt;&lt;(*it).m_Age&lt;&lt;endl;</font></span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;">存放自定义数据类型的指针</span></div><div><span style="font-size: 11pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 11pt;">vector&lt;Person*&gt;v;</font></span></div><div><font style="font-size: 11pt;">Person p1(&quot;xiaoming&quot;, 18);</font></div><div><font style="font-size: 11pt;">Person p2(&quot;xiaohong&quot;, 19);</font></div><div><font style="font-size: 11pt;">Person p3(&quot;xiaoli&quot;, 14);</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">v.push_back(&amp;p1);</font></div><div><font style="font-size: 11pt;">v.push_back(&amp;p2);</font></div><div><font style="font-size: 11pt;">v.push_back(&amp;p3);</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">for(vector&lt;Person*&gt;::iterator it=v.begin(); it!=v.end(); it++)</font></div><div><font style="font-size: 11pt;">{</font></div><div><font style="font-size: 11pt;">    <font color="#E30000">cout&lt;&lt;(*it)-&gt;m_Name;</font></font></div><div><font style="font-size: 11pt;">} </font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><b>vector容器嵌套容器</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">#include&lt;vector&gt;</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font color="#E30000" style="font-size: 11pt;"><b>vector&lt; vector&lt;int&gt; &gt;v;</b></font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">vector&lt;int&gt;v1;</font></div><div><font style="font-size: 11pt;">vector&lt;int&gt;v2;</font></div><div><font style="font-size: 11pt;">vector&lt;int&gt;v3;</font></div><div><font style="font-size: 11pt;">vector&lt;int&gt;v4;</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">for(int i=0; i&lt;4; i++)</font></div><div><font style="font-size: 11pt;">{</font></div><div><font style="font-size: 11pt;">    v1.push_back(i+1);</font></div><div><font style="font-size: 11pt;">    v2.push_back(i+2);</font></div><div><font style="font-size: 11pt;">    v3.push_back(i+3);</font></div><div><font style="font-size: 11pt;">    v4.push_back(i+4);</font></div><div><font style="font-size: 11pt;">}</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font style="font-size: 11pt;">v.push_back(v1);</font></div><div><font style="font-size: 11pt;">v.push_back(v2);</font></div><div><font style="font-size: 11pt;">v.push_back(v3);</font></div><div><font style="font-size: 11pt;">v.push_back(v4);</font></div><div><font style="font-size: 11pt;"><br/></font></div><div><font color="#E30000" style="font-size: 11pt;">for(vector&lt; vector&lt;int&gt;&gt;::iterator it=v.begin(); it!=v.end();it++)</font></div><div><font color="#E30000" style="font-size: 11pt;">{</font></div><div><font color="#E30000" style="font-size: 11pt;">    for(vector&lt;int&gt;::iterator vit=(*it).begin();vit!=(*it).end();vit++)</font></div><div><font color="#E30000" style="font-size: 11pt;">    {</font></div><div><font color="#E30000" style="font-size: 11pt;">        cout&lt;&lt;*vit&lt;&lt;endl;</font></div><div><font color="#E30000" style="font-size: 11pt;">    }</font></div><div><font color="#E30000" style="font-size: 11pt;">}</font></div></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 